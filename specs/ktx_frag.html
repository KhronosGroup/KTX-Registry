<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<meta name="description" content="URI syntax for accessing fragments of a KTX v2 file.">
<meta name="author" content="Mark Callow">
<title>KTX Fragment URI</title>
<style>
/*! normalize.css v2.1.2 | MIT License | git.io/normalize */
/* ========================================================================== HTML5 display definitions ========================================================================== */
/** Correct `block` display not defined in IE 8/9. */
article, aside, details, figcaption, figure, footer, header, hgroup, main, nav, section { display: block; }

/** Correct `inline-block` display not defined in IE 8/9. */
audio, canvas, video { display: inline-block; }

/** Prevent modern browsers from displaying `audio` without controls. Remove excess height in iOS 5 devices. */
audio:not([controls]) { display: none; height: 0; }

/** Address `[hidden]` styling not present in IE 8/9. Hide the `template` element in IE, Safari, and Firefox < 22. */
[hidden], template { display: none; }

script { display: none !important; }

/* ========================================================================== Base ========================================================================== */
/** 1. Set default font family to sans-serif. 2. Prevent iOS text size adjust after orientation change, without disabling user zoom. */
html { font-family: sans-serif; /* 1 */ -ms-text-size-adjust: 100%; /* 2 */ -webkit-text-size-adjust: 100%; /* 2 */ }

/** Remove default margin. */
body { margin: 0; }

/* ========================================================================== Links ========================================================================== */
/** Remove the gray background color from active links in IE 10. */
a { background: transparent; }

/** Address `outline` inconsistency between Chrome and other browsers. */
a:focus { outline: thin dotted; }

/** Improve readability when focused and also mouse hovered in all browsers. */
a:active, a:hover { outline: 0; }

/* ========================================================================== Typography ========================================================================== */
/** Address variable `h1` font-size and margin within `section` and `article` contexts in Firefox 4+, Safari 5, and Chrome. */
h1 { font-size: 2em; margin: 0.67em 0; }

/** Address styling not present in IE 8/9, Safari 5, and Chrome. */
abbr[title] { border-bottom: 1px dotted; }

/** Address style set to `bolder` in Firefox 4+, Safari 5, and Chrome. */
b, strong { font-weight: bold; }

/** Address styling not present in Safari 5 and Chrome. */
dfn { font-style: italic; }

/** Address differences between Firefox and other browsers. */
hr { -moz-box-sizing: content-box; box-sizing: content-box; height: 0; }

/** Address styling not present in IE 8/9. */
mark { background: #ff0; color: #000; }

/** Correct font family set oddly in Safari 5 and Chrome. */
code, kbd, pre, samp { font-family: monospace, serif; font-size: 1em; }

/** Improve readability of pre-formatted text in all browsers. */
pre { white-space: pre-wrap; }

/** Set consistent quote types. */
q { quotes: "\201C" "\201D" "\2018" "\2019"; }

/** Address inconsistent and variable font size in all browsers. */
small { font-size: 80%; }

/** Prevent `sub` and `sup` affecting `line-height` in all browsers. */
sub, sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; }

sup { top: -0.5em; }

sub { bottom: -0.25em; }

/* ========================================================================== Embedded content ========================================================================== */
/** Remove border when inside `a` element in IE 8/9. */
img { border: 0; }

/** Correct overflow displayed oddly in IE 9. */
svg:not(:root) { overflow: hidden; }

/* ========================================================================== Figures ========================================================================== */
/** Address margin not present in IE 8/9 and Safari 5. */
figure { margin: 0; }

/* ========================================================================== Forms ========================================================================== */
/** Define consistent border, margin, and padding. */
fieldset { border: 1px solid #c0c0c0; margin: 0 2px; padding: 0.35em 0.625em 0.75em; }

/** 1. Correct `color` not being inherited in IE 8/9. 2. Remove padding so people aren't caught out if they zero out fieldsets. */
legend { border: 0; /* 1 */ padding: 0; /* 2 */ }

/** 1. Correct font family not being inherited in all browsers. 2. Correct font size not being inherited in all browsers. 3. Address margins set differently in Firefox 4+, Safari 5, and Chrome. */
button, input, select, textarea { font-family: inherit; /* 1 */ font-size: 100%; /* 2 */ margin: 0; /* 3 */ }

/** Address Firefox 4+ setting `line-height` on `input` using `!important` in the UA stylesheet. */
button, input { line-height: normal; }

/** Address inconsistent `text-transform` inheritance for `button` and `select`. All other form control elements do not inherit `text-transform` values. Correct `button` style inheritance in Chrome, Safari 5+, and IE 8+. Correct `select` style inheritance in Firefox 4+ and Opera. */
button, select { text-transform: none; }

/** 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio` and `video` controls. 2. Correct inability to style clickable `input` types in iOS. 3. Improve usability and consistency of cursor style between image-type `input` and others. */
button, html input[type="button"], input[type="reset"], input[type="submit"] { -webkit-appearance: button; /* 2 */ cursor: pointer; /* 3 */ }

/** Re-set default cursor for disabled elements. */
button[disabled], html input[disabled] { cursor: default; }

/** 1. Address box sizing set to `content-box` in IE 8/9. 2. Remove excess padding in IE 8/9. */
input[type="checkbox"], input[type="radio"] { box-sizing: border-box; /* 1 */ padding: 0; /* 2 */ }

/** 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome. 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome (include `-moz` to future-proof). */
input[type="search"] { -webkit-appearance: textfield; /* 1 */ -moz-box-sizing: content-box; -webkit-box-sizing: content-box; /* 2 */ box-sizing: content-box; }

/** Remove inner padding and search cancel button in Safari 5 and Chrome on OS X. */
input[type="search"]::-webkit-search-cancel-button, input[type="search"]::-webkit-search-decoration { -webkit-appearance: none; }

/** Remove inner padding and border in Firefox 4+. */
button::-moz-focus-inner, input::-moz-focus-inner { border: 0; padding: 0; }

/** 1. Remove default vertical scrollbar in IE 8/9. 2. Improve readability and alignment in all browsers. */
textarea { overflow: auto; /* 1 */ vertical-align: top; /* 2 */ }

/* ========================================================================== Tables ========================================================================== */
/** Remove most spacing between table cells. */
table { border-collapse: collapse; border-spacing: 0; }

meta.foundation-mq-small { font-family: "only screen and (min-width: 768px)"; width: 768px; }

meta.foundation-mq-medium { font-family: "only screen and (min-width:1280px)"; width: 1280px; }

meta.foundation-mq-large { font-family: "only screen and (min-width:1440px)"; width: 1440px; }

*, *:before, *:after { -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }

html, body { font-size: 100%; }

body { background: #fff; color: #222; padding: 0; margin: 0; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-weight: normal; font-style: normal; line-height: 1; position: relative; cursor: auto; }

a:hover { cursor: pointer; }

img, object, embed { max-width: 100%; height: auto; }

object, embed { height: 100%; }

img { -ms-interpolation-mode: bicubic; }

#map_canvas img, #map_canvas embed, #map_canvas object, .map_canvas img, .map_canvas embed, .map_canvas object { max-width: none !important; }

.left { float: left !important; }

.right { float: right !important; }

.text-left { text-align: left !important; }

.text-right { text-align: right !important; }

.text-center { text-align: center !important; }

.text-justify { text-align: justify !important; }

.hide { display: none; }

.antialiased { -webkit-font-smoothing: antialiased; }

img { display: inline-block; vertical-align: middle; }

textarea { height: auto; min-height: 50px; }

select { width: 100%; }

object, svg { display: inline-block; vertical-align: middle; }

.center { margin-left: auto; margin-right: auto; }

.spread { width: 100%; }

p.lead, .paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { font-size: 1.21875em; line-height: 1.6; }

.subheader, .admonitionblock td.content > .title, .audioblock > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .stemblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, table.tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { line-height: 1.4; color: black; font-weight: 300; margin-top: 0.2em; margin-bottom: 0.5em; }

/* Typography resets */
div, dl, dt, dd, ul, ol, li, h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6, pre, form, p, blockquote, th, td { margin: 0; padding: 0; direction: ltr; }

/* Default Link Styles */
a { color: #0068b0; text-decoration: none; line-height: inherit; }
a:hover, a:focus { color: #333; }
a img { border: none; }

/* Default paragraph styles */
p { font-family: Noto, sans-serif; font-weight: normal; font-size: 1em; line-height: 1.6; margin-bottom: 0.75em; text-rendering: optimizeLegibility; }
p aside { font-size: 0.875em; line-height: 1.35; font-style: italic; }

/* Default header styles */
h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { font-family: Noto, sans-serif; font-weight: normal; font-style: normal; color: black; text-rendering: optimizeLegibility; margin-top: 0.5em; margin-bottom: 0.5em; line-height: 1.2125em; }
h1 small, h2 small, h3 small, #toctitle small, .sidebarblock > .content > .title small, h4 small, h5 small, h6 small { font-size: 60%; color: #4d4d4d; line-height: 0; }

h1 { font-size: 2.125em; }

h2 { font-size: 1.6875em; }

h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.375em; }

h4 { font-size: 1.125em; }

h5 { font-size: 1.125em; }

h6 { font-size: 1em; }

hr { border: solid #ddd; border-width: 1px 0 0; clear: both; margin: 1.25em 0 1.1875em; height: 0; }

/* Helpful Typography Defaults */
em, i { font-style: italic; line-height: inherit; }

strong, b { font-weight: bold; line-height: inherit; }

small { font-size: 60%; line-height: inherit; }

code { font-family: Consolas, "Liberation Mono", Courier, monospace; font-weight: normal; color: #264357; }

/* Lists */
ul, ol, dl { font-size: 1em; line-height: 1.6; margin-bottom: 0.75em; list-style-position: outside; font-family: Noto, sans-serif; }

ul, ol { margin-left: 1.5em; }
ul.no-bullet, ol.no-bullet { margin-left: 1.5em; }

/* Unordered Lists */
ul li ul, ul li ol { margin-left: 1.25em; margin-bottom: 0; font-size: 1em; /* Override nested font-size change */ }
ul.square li ul, ul.circle li ul, ul.disc li ul { list-style: inherit; }
ul.square { list-style-type: square; }
ul.circle { list-style-type: circle; }
ul.disc { list-style-type: disc; }
ul.no-bullet { list-style: none; }

/* Ordered Lists */
ol li ul, ol li ol { margin-left: 1.25em; margin-bottom: 0; }

/* Definition Lists */
dl dt { margin-bottom: 0.3em; font-weight: bold; }
dl dd { margin-bottom: 0.75em; }

/* Abbreviations */
abbr, acronym { text-transform: uppercase; font-size: 90%; color: black; border-bottom: 1px dotted #ddd; cursor: help; }

abbr { text-transform: none; }

/* Blockquotes */
blockquote { margin: 0 0 0.75em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #ddd; }
blockquote cite { display: block; font-size: 0.8125em; color: #5e93b8; }
blockquote cite:before { content: "\2014 \0020"; }
blockquote cite a, blockquote cite a:visited { color: #5e93b8; }

blockquote, blockquote p { line-height: 1.6; color: #333; }

/* Microformats */
.vcard { display: inline-block; margin: 0 0 1.25em 0; border: 1px solid #ddd; padding: 0.625em 0.75em; }
.vcard li { margin: 0; display: block; }
.vcard .fn { font-weight: bold; font-size: 0.9375em; }

.vevent .summary { font-weight: bold; }
.vevent abbr { cursor: auto; text-decoration: none; font-weight: bold; border: none; padding: 0 0.0625em; }

@media only screen and (min-width: 768px) { h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; }
  h1 { font-size: 2.75em; }
  h2 { font-size: 2.3125em; }
  h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.6875em; }
  h4 { font-size: 1.4375em; } }
/* Tables */
table { background: #fff; margin-bottom: 1.25em; border: solid 1px #d8d8ce; }
table thead, table tfoot { background: #eee; font-weight: bold; }
table thead tr th, table thead tr td, table tfoot tr th, table tfoot tr td { padding: 0.5em 0.625em 0.625em; font-size: inherit; color: #222; text-align: left; }
table tr th, table tr td { padding: 0.5625em 0.625em; font-size: inherit; color: #6d6e71; }
table tr.even, table tr.alt, table tr:nth-of-type(even) { background: #f8f8f8; }
table thead tr th, table tfoot tr th, table tbody tr td, table tr td, table tfoot tr td { display: table-cell; line-height: 1.4; }

body { -moz-osx-font-smoothing: grayscale; -webkit-font-smoothing: antialiased; tab-size: 4; }

h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; }

a:hover, a:focus { text-decoration: underline; }

.clearfix:before, .clearfix:after, .float-group:before, .float-group:after { content: " "; display: table; }
.clearfix:after, .float-group:after { clear: both; }

*:not(pre) > code { font-size: inherit; font-style: normal !important; letter-spacing: 0; padding: 0; background-color: transparent; -webkit-border-radius: 0; border-radius: 0; line-height: inherit; word-wrap: break-word; }
*:not(pre) > code.nobreak { word-wrap: normal; }
*:not(pre) > code.nowrap { white-space: nowrap; }

pre, pre > code { line-height: 1.6; color: #264357; font-family: Consolas, "Liberation Mono", Courier, monospace; font-weight: normal; }

em em { font-style: normal; }

strong strong { font-weight: normal; }

.keyseq { color: #333333; }

kbd { font-family: Consolas, "Liberation Mono", Courier, monospace; display: inline-block; color: black; font-size: 0.65em; line-height: 1.45; background-color: #f7f7f7; border: 1px solid #ccc; -webkit-border-radius: 3px; border-radius: 3px; -moz-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; margin: 0 0.15em; padding: 0.2em 0.5em; vertical-align: middle; position: relative; top: -0.1em; white-space: nowrap; }

.keyseq kbd:first-child { margin-left: 0; }

.keyseq kbd:last-child { margin-right: 0; }

.menuseq, .menuref { color: #000; }

.menuseq b:not(.caret), .menuref { font-weight: inherit; }

.menuseq { word-spacing: -0.02em; }
.menuseq b.caret { font-size: 1.25em; line-height: 0.8; }
.menuseq i.caret { font-weight: bold; text-align: center; width: 0.45em; }

b.button:before, b.button:after { position: relative; top: -1px; font-weight: normal; }

b.button:before { content: "["; padding: 0 3px 0 2px; }

b.button:after { content: "]"; padding: 0 2px 0 3px; }

#header, #content, #footnotes, #footer { width: 100%; margin-left: auto; margin-right: auto; margin-top: 0; margin-bottom: 0; max-width: 62.5em; *zoom: 1; position: relative; padding-left: 1.5em; padding-right: 1.5em; }
#header:before, #header:after, #content:before, #content:after, #footnotes:before, #footnotes:after, #footer:before, #footer:after { content: " "; display: table; }
#header:after, #content:after, #footnotes:after, #footer:after { clear: both; }

#content { margin-top: 1.25em; }

#content:before { content: none; }

#header > h1:first-child { color: black; margin-top: 2.25rem; margin-bottom: 0; }
#header > h1:first-child + #toc { margin-top: 8px; border-top: 1px solid #ddd; }
#header > h1:only-child, body.toc2 #header > h1:nth-last-child(2) { border-bottom: 1px solid #ddd; padding-bottom: 8px; }
#header .details { border-bottom: 1px solid #ddd; line-height: 1.45; padding-top: 0.25em; padding-bottom: 0.25em; padding-left: 0.25em; color: #5e93b8; display: -ms-flexbox; display: -webkit-flex; display: flex; -ms-flex-flow: row wrap; -webkit-flex-flow: row wrap; flex-flow: row wrap; }
#header .details span:first-child { margin-left: -0.125em; }
#header .details span.email a { color: #333; }
#header .details br { display: none; }
#header .details br + span:before { content: "\00a0\2013\00a0"; }
#header .details br + span.author:before { content: "\00a0\22c5\00a0"; color: #333; }
#header .details br + span#revremark:before { content: "\00a0|\00a0"; }
#header #revnumber { text-transform: capitalize; }
#header #revnumber:after { content: "\00a0"; }

#content > h1:first-child:not([class]) { color: black; border-bottom: 1px solid #ddd; padding-bottom: 8px; margin-top: 0; padding-top: 1rem; margin-bottom: 1.25rem; }

#toc { border-bottom: 0 solid #ddd; padding-bottom: 0.5em; }
#toc > ul { margin-left: 0.125em; }
#toc ul.sectlevel0 > li > a { font-style: italic; }
#toc ul.sectlevel0 ul.sectlevel1 { margin: 0.5em 0; }
#toc ul { font-family: Noto, sans-serif; list-style-type: none; }
#toc li { line-height: 1.3334; margin-top: 0.3334em; }
#toc a { text-decoration: none; }
#toc a:active { text-decoration: underline; }

#toctitle { color: black; font-size: 1.2em; }

@media only screen and (min-width: 768px) { #toctitle { font-size: 1.375em; }
  body.toc2 { padding-left: 15em; padding-right: 0; }
  #toc.toc2 { margin-top: 0 !important; background-color: #fff; position: fixed; width: 15em; left: 0; top: 0; border-right: 1px solid #ddd; border-top-width: 0 !important; border-bottom-width: 0 !important; z-index: 1000; padding: 1.25em 1em; height: 100%; overflow: auto; }
  #toc.toc2 #toctitle { margin-top: 0; margin-bottom: 0.8rem; font-size: 1.2em; }
  #toc.toc2 > ul { font-size: 0.9em; margin-bottom: 0; }
  #toc.toc2 ul ul { margin-left: 0; padding-left: 1em; }
  #toc.toc2 ul.sectlevel0 ul.sectlevel1 { padding-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 15em; }
  body.toc2.toc-right #toc.toc2 { border-right-width: 0; border-left: 1px solid #ddd; left: auto; right: 0; } }
@media only screen and (min-width: 1280px) { body.toc2 { padding-left: 20em; padding-right: 0; }
  #toc.toc2 { width: 20em; }
  #toc.toc2 #toctitle { font-size: 1.375em; }
  #toc.toc2 > ul { font-size: 0.95em; }
  #toc.toc2 ul ul { padding-left: 1.25em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 20em; } }
#content #toc { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: #fff; -webkit-border-radius: 0; border-radius: 0; }
#content #toc > :first-child { margin-top: 0; }
#content #toc > :last-child { margin-bottom: 0; }

#footer { max-width: 100%; background-color: none; padding: 1.25em; }

#footer-text { color: black; line-height: 1.44; }

#content { margin-bottom: 0.625em; }

.sect1 { padding-bottom: 0.625em; }

@media only screen and (min-width: 768px) { #content { margin-bottom: 1.25em; }
  .sect1 { padding-bottom: 1.25em; } }
.sect1:last-child { padding-bottom: 0; }

.sect1 + .sect1 { border-top: 0 solid #ddd; }

#content h1 > a.anchor, h2 > a.anchor, h3 > a.anchor, #toctitle > a.anchor, .sidebarblock > .content > .title > a.anchor, h4 > a.anchor, h5 > a.anchor, h6 > a.anchor { position: absolute; z-index: 1001; width: 1.5ex; margin-left: -1.5ex; display: block; text-decoration: none !important; visibility: hidden; text-align: center; font-weight: normal; }
#content h1 > a.anchor:before, h2 > a.anchor:before, h3 > a.anchor:before, #toctitle > a.anchor:before, .sidebarblock > .content > .title > a.anchor:before, h4 > a.anchor:before, h5 > a.anchor:before, h6 > a.anchor:before { content: "\00A7"; font-size: 0.85em; display: block; padding-top: 0.1em; }
#content h1:hover > a.anchor, #content h1 > a.anchor:hover, h2:hover > a.anchor, h2 > a.anchor:hover, h3:hover > a.anchor, #toctitle:hover > a.anchor, .sidebarblock > .content > .title:hover > a.anchor, h3 > a.anchor:hover, #toctitle > a.anchor:hover, .sidebarblock > .content > .title > a.anchor:hover, h4:hover > a.anchor, h4 > a.anchor:hover, h5:hover > a.anchor, h5 > a.anchor:hover, h6:hover > a.anchor, h6 > a.anchor:hover { visibility: visible; }
#content h1 > a.link, h2 > a.link, h3 > a.link, #toctitle > a.link, .sidebarblock > .content > .title > a.link, h4 > a.link, h5 > a.link, h6 > a.link { color: black; text-decoration: none; }
#content h1 > a.link:hover, h2 > a.link:hover, h3 > a.link:hover, #toctitle > a.link:hover, .sidebarblock > .content > .title > a.link:hover, h4 > a.link:hover, h5 > a.link:hover, h6 > a.link:hover { color: black; }

details, .audioblock, .imageblock, .literalblock, .listingblock, .stemblock, .videoblock { margin-bottom: 1.25em; }

details > summary:first-of-type { display:list-item; cursor:pointer; margin-bottom:.75em; }

.admonitionblock td.content > .title, .audioblock > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .stemblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, table.tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { text-rendering: optimizeLegibility; text-align: left; }

table.tableblock > caption.title { white-space: nowrap; overflow: visible; max-width: 0; }

.paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { color: black; }

table.tableblock #preamble > .sectionbody > .paragraph:first-of-type p { font-size: inherit; }

.admonitionblock > table { border-collapse: separate; border: 0; background: none; width: 100%; }
.admonitionblock > table td.icon { text-align: center; width: 80px; }
.admonitionblock > table td.icon img { max-width: initial; }
.admonitionblock > table td.icon .title { font-weight: bold; font-family: Noto, sans-serif; text-transform: uppercase; }
.admonitionblock > table td.content { padding-left: 1.125em; padding-right: 1.25em; border-left: 1px solid #ddd; color: #5e93b8; }
.admonitionblock > table td.content > :last-child > :last-child { margin-bottom: 0; }

.exampleblock > .content { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: #fff; -webkit-border-radius: 0; border-radius: 0; }
.exampleblock > .content > :first-child { margin-top: 0; }
.exampleblock > .content > :last-child { margin-bottom: 0; }

.sidebarblock { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: #fff; -webkit-border-radius: 0; border-radius: 0; }
.sidebarblock > :first-child { margin-top: 0; }
.sidebarblock > :last-child { margin-bottom: 0; }
.sidebarblock > .content > .title { color: black; margin-top: 0; }

.exampleblock > .content > :last-child > :last-child, .exampleblock > .content .olist > ol > li:last-child > :last-child, .exampleblock > .content .ulist > ul > li:last-child > :last-child, .exampleblock > .content .qlist > ol > li:last-child > :last-child, .sidebarblock > .content > :last-child > :last-child, .sidebarblock > .content .olist > ol > li:last-child > :last-child, .sidebarblock > .content .ulist > ul > li:last-child > :last-child, .sidebarblock > .content .qlist > ol > li:last-child > :last-child { margin-bottom: 0; }

.literalblock pre, .listingblock pre:not(.highlight), .listingblock pre[class="highlight"], .listingblock pre[class^="highlight "], .listingblock pre.CodeRay, .listingblock pre.prettyprint { background: #eee; }
.sidebarblock .literalblock pre, .sidebarblock .listingblock pre:not(.highlight), .sidebarblock .listingblock pre[class="highlight"], .sidebarblock .listingblock pre[class^="highlight "], .sidebarblock .listingblock pre.CodeRay, .sidebarblock .listingblock pre.prettyprint { background: #f2f1f1; }

.literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { border: 1px hidden #666; -webkit-border-radius: 0; border-radius: 0; word-wrap: break-word; padding: 1.25em 1.5625em 1.125em 1.5625em; font-size: 0.8125em; }
.literalblock pre.nowrap, .literalblock pre[class].nowrap, .listingblock pre.nowrap, .listingblock pre[class].nowrap { overflow-x: auto; white-space: pre; word-wrap: normal; }
@media only screen and (min-width: 768px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 0.90625em; } }
@media only screen and (min-width: 1280px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 1em; } }

.literalblock.output pre { color: #eee; background-color: #264357; }

.listingblock pre.highlightjs { padding: 0; }
.listingblock pre.highlightjs > code { padding: 1.25em 1.5625em 1.125em 1.5625em; -webkit-border-radius: 0; border-radius: 0; }

.listingblock > .content { position: relative; }

.listingblock code[data-lang]:before { display: none; content: attr(data-lang); position: absolute; font-size: 0.75em; top: 0.425rem; right: 0.5rem; line-height: 1; text-transform: uppercase; color: #999; }

.listingblock:hover code[data-lang]:before { display: block; }

.listingblock.terminal pre .command:before { content: attr(data-prompt); padding-right: 0.5em; color: #999; }

.listingblock.terminal pre .command:not([data-prompt]):before { content: "$"; }

table.pyhltable { border-collapse: separate; border: 0; margin-bottom: 0; background: none; }

table.pyhltable td { vertical-align: top; padding-top: 0; padding-bottom: 0; line-height: 1.6; }

table.pyhltable td.code { padding-left: .75em; padding-right: 0; }

pre.pygments .lineno, table.pyhltable td:not(.code) { color: #999; padding-left: 0; padding-right: .5em; border-right: 1px solid #ddd; }

pre.pygments .lineno { display: inline-block; margin-right: .25em; }

table.pyhltable .linenodiv { background: none !important; padding-right: 0 !important; }

.quoteblock { margin: 0 1em 0.75em 1.5em; display: table; }
.quoteblock > .title { margin-left: -1.5em; margin-bottom: 0.75em; }
.quoteblock blockquote, .quoteblock blockquote p { color: #333; font-size: 1.15rem; line-height: 1.75; word-spacing: 0.1em; letter-spacing: 0; font-style: italic; text-align: justify; }
.quoteblock blockquote { margin: 0; padding: 0; border: 0; }
.quoteblock blockquote:before { content: "\201c"; float: left; font-size: 2.75em; font-weight: bold; line-height: 0.6em; margin-left: -0.6em; color: black; text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1); }
.quoteblock blockquote > .paragraph:last-child p { margin-bottom: 0; }
.quoteblock .attribution { margin-top: 0.5em; margin-right: 0.5ex; text-align: right; }
.quoteblock .quoteblock { margin-left: 0; margin-right: 0; padding: 0.5em 0; border-left: 3px solid #5e93b8; }
.quoteblock .quoteblock blockquote { padding: 0 0 0 0.75em; }
.quoteblock .quoteblock blockquote:before { display: none; }

.verseblock { margin: 0 1em 0.75em 1em; }
.verseblock pre { font-family: "Open Sans", "DejaVu Sans", sans; font-size: 1.15rem; color: #333; font-weight: 300; text-rendering: optimizeLegibility; }
.verseblock pre strong { font-weight: 400; }
.verseblock .attribution { margin-top: 1.25rem; margin-left: 0.5ex; }

.quoteblock .attribution, .verseblock .attribution { font-size: 0.8125em; line-height: 1.45; font-style: italic; }
.quoteblock .attribution br, .verseblock .attribution br { display: none; }
.quoteblock .attribution cite, .verseblock .attribution cite { display: block; letter-spacing: -0.025em; color: #5e93b8; }

.quoteblock.abstract { margin: 0 0 0.75em 0; display: block; }
.quoteblock.abstract blockquote, .quoteblock.abstract blockquote p { text-align: left; word-spacing: 0; }
.quoteblock.abstract blockquote:before, .quoteblock.abstract blockquote p:first-of-type:before { display: none; }

table.tableblock { max-width: 100%; border-collapse: separate; }
table.tableblock td > .paragraph:last-child p > p:last-child, table.tableblock th > p:last-child, table.tableblock td > p:last-child { margin-bottom: 0; }

table.tableblock, th.tableblock, td.tableblock { border: 0 solid #d8d8ce; }

table.grid-all > thead > tr > .tableblock, table.grid-all > tbody > tr > .tableblock { border-width: 0 1px 1px 0; }

table.grid-all > tfoot > tr > .tableblock { border-width: 1px 1px 0 0; }

table.grid-cols > * > tr > .tableblock { border-width: 0 1px 0 0; }

table.grid-rows > thead > tr > .tableblock, table.grid-rows > tbody > tr > .tableblock { border-width: 0 0 1px 0; }

table.grid-rows > tfoot > tr > .tableblock { border-width: 1px 0 0 0; }

table.grid-all > * > tr > .tableblock:last-child, table.grid-cols > * > tr > .tableblock:last-child { border-right-width: 0; }

table.grid-all > tbody > tr:last-child > .tableblock, table.grid-all > thead:last-child > tr > .tableblock, table.grid-rows > tbody > tr:last-child > .tableblock, table.grid-rows > thead:last-child > tr > .tableblock { border-bottom-width: 0; }

table.frame-all { border-width: 1px; }

table.frame-sides { border-width: 0 1px; }

table.frame-topbot { border-width: 1px 0; }

th.halign-left, td.halign-left { text-align: left; }

th.halign-right, td.halign-right { text-align: right; }

th.halign-center, td.halign-center { text-align: center; }

th.valign-top, td.valign-top { vertical-align: top; }

th.valign-bottom, td.valign-bottom { vertical-align: bottom; }

th.valign-middle, td.valign-middle { vertical-align: middle; }

table thead th, table tfoot th { font-weight: bold; }

tbody tr th { display: table-cell; line-height: 1.4; background: #eee; }

tbody tr th, tbody tr th p, tfoot tr th, tfoot tr th p { color: #222; font-weight: bold; }

p.tableblock > code:only-child { background: none; padding: 0; }

p.tableblock { font-size: 1em; }

td > div.verse { white-space: pre; }

ol { margin-left: 1.75em; }

ul li ol { margin-left: 1.5em; }

dl dd { margin-left: 1.125em; }

dl dd:last-child, dl dd:last-child > :last-child { margin-bottom: 0; }

ol > li p, ul > li p, ul dd, ol dd, .olist .olist, .ulist .ulist, .ulist .olist, .olist .ulist { margin-bottom: 0.375em; }

ul.checklist, ul.none, ol.none, ul.no-bullet, ol.no-bullet, ol.unnumbered, ul.unstyled, ol.unstyled { list-style-type: none; }

ul.no-bullet, ol.no-bullet, ol.unnumbered { margin-left: 0.625em; }

ul.unstyled, ol.unstyled { margin-left: 0; }

ul.checklist { margin-left: 0.625em; }

ul.checklist li > p:first-child > .fa-square-o:first-child, ul.checklist li > p:first-child > .fa-check-square-o:first-child { width: 1.25em; font-size: 0.8em; position: relative; bottom: 0.125em; }

ul.checklist li > p:first-child > input[type="checkbox"]:first-child { margin-right: 0.25em; }

ul.inline { display: -ms-flexbox; display: -webkit-box; display: flex; -ms-flex-flow: row wrap; -webkit-flex-flow: row wrap; flex-flow: row wrap; list-style: none; margin: 0 0 0.375em -0.75em; }

ul.inline > li { margin-left: 0.75em; }

.unstyled dl dt { font-weight: normal; font-style: normal; }

ol.arabic { list-style-type: decimal; }

ol.decimal { list-style-type: decimal-leading-zero; }

ol.loweralpha { list-style-type: lower-alpha; }

ol.upperalpha { list-style-type: upper-alpha; }

ol.lowerroman { list-style-type: lower-roman; }

ol.upperroman { list-style-type: upper-roman; }

ol.lowergreek { list-style-type: lower-greek; }

.hdlist > table, .colist > table { border: 0; background: none; }
.hdlist > table > tbody > tr, .colist > table > tbody > tr { background: none; }

td.hdlist1, td.hdlist2 { vertical-align: top; padding: 0 0.625em; }

td.hdlist1 { font-weight: bold; padding-bottom: 0.75em; }

.literalblock + .colist, .listingblock + .colist { margin-top: -0.5em; }

.colist > table tr > td:first-of-type { padding: 0.4em 0.75em 0 0.75em; line-height: 1; vertical-align: top; }
.colist > table tr > td:first-of-type img { max-width: initial; }
.colist > table tr > td:last-of-type { padding: 0.25em 0; }

.thumb, .th { line-height: 0; display: inline-block; border: solid 4px #fff; -webkit-box-shadow: 0 0 0 1px #ddd; box-shadow: 0 0 0 1px #ddd; }

.imageblock.left, .imageblock[style*="float: left"] { margin: 0.25em 0.625em 1.25em 0; }
.imageblock.right, .imageblock[style*="float: right"] { margin: 0.25em 0 1.25em 0.625em; }
.imageblock > .title { margin-bottom: 0; }
.imageblock.thumb, .imageblock.th { border-width: 6px; }
.imageblock.thumb > .title, .imageblock.th > .title { padding: 0 0.125em; }

.image.left, .image.right { margin-top: 0.25em; margin-bottom: 0.25em; display: inline-block; line-height: 0; }
.image.left { margin-right: 0.625em; }
.image.right { margin-left: 0.625em; }

a.image { text-decoration: none; display: inline-block; }
a.image object { pointer-events: none; }

sup.footnote, sup.footnoteref { font-size: 0.875em; position: static; vertical-align: super; }
sup.footnote a, sup.footnoteref a { text-decoration: none; }
sup.footnote a:active, sup.footnoteref a:active { text-decoration: underline; }

#footnotes { padding-top: 0.75em; padding-bottom: 0.75em; margin-bottom: 0.625em; }
#footnotes hr { width: 20%; min-width: 6.25em; margin: -0.25em 0 0.75em 0; border-width: 1px 0 0 0; }
#footnotes .footnote { padding: 0 0.375em 0 0.225em; line-height: 1.3334; font-size: 0.875em; margin-left: 1.2em; margin-bottom: 0.2em; }
#footnotes .footnote a:first-of-type { font-weight: bold; text-decoration: none; margin-left: -1.05em; }
#footnotes .footnote:last-of-type { margin-bottom: 0; }
#content #footnotes { margin-top: -0.625em; margin-bottom: 0; padding: 0.75em 0; }

.gist .file-data > table { border: 0; background: #fff; width: 100%; margin-bottom: 0; }
.gist .file-data > table td.line-data { width: 99%; }

div.unbreakable { page-break-inside: avoid; }

.big { font-size: larger; }

.small { font-size: smaller; }

.underline { text-decoration: underline; }

.overline { text-decoration: overline; }

.line-through { text-decoration: line-through; }

.aqua { color: #00bfbf; }

.aqua-background { background-color: #00fafa; }

.black { color: black; }

.black-background { background-color: black; }

.blue { color: #0000bf; }

.blue-background { background-color: #0000fa; }

.fuchsia { color: #bf00bf; }

.fuchsia-background { background-color: #fa00fa; }

.gray { color: #606060; }

.gray-background { background-color: #7d7d7d; }

.green { color: #006000; }

.green-background { background-color: #007d00; }

.lime { color: #00bf00; }

.lime-background { background-color: #00fa00; }

.maroon { color: #600000; }

.maroon-background { background-color: #7d0000; }

.navy { color: #000060; }

.navy-background { background-color: #00007d; }

.olive { color: #606000; }

.olive-background { background-color: #7d7d00; }

.purple { color: #600060; }

.purple-background { background-color: #7d007d; }

.red { color: #bf0000; }

.red-background { background-color: #fa0000; }

.silver { color: #909090; }

.silver-background { background-color: #bcbcbc; }

.teal { color: #006060; }

.teal-background { background-color: #007d7d; }

.white { color: #bfbfbf; }

.white-background { background-color: #fafafa; }

.yellow { color: #bfbf00; }

.yellow-background { background-color: #fafa00; }

span.icon > .fa { cursor: default; }
a span.icon > .fa { cursor: inherit; }

.admonitionblock td.icon [class^="fa icon-"] { font-size: 2.5em; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); cursor: default; }
.admonitionblock td.icon .icon-note:before { content: "\f05a"; color: #29475c; }
.admonitionblock td.icon .icon-tip:before { content: "\f0eb"; text-shadow: 1px 1px 2px rgba(155, 155, 0, 0.8); color: #111; }
.admonitionblock td.icon .icon-warning:before { content: "\f071"; color: #bf6900; }
.admonitionblock td.icon .icon-caution:before { content: "\f06d"; color: #bf3400; }
.admonitionblock td.icon .icon-important:before { content: "\f06a"; color: #bf0000; }

.conum[data-value] { display: inline-block; color: #fff !important; background-color: black; -webkit-border-radius: 100px; border-radius: 100px; text-align: center; font-size: 0.75em; width: 1.67em; height: 1.67em; line-height: 1.67em; font-family: "Open Sans", "DejaVu Sans", sans-serif; font-style: normal; font-weight: bold; }
.conum[data-value] * { color: #fff !important; }
.conum[data-value] + b { display: none; }
.conum[data-value]:after { content: attr(data-value); }
pre .conum[data-value] { position: relative; top: -0.125em; }

b.conum * { color: inherit !important; }

.conum:not([data-value]):empty { display: none; }

h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { border-bottom: 1px solid #ddd; }

.sect1 { padding-bottom: 0; }

#toctitle { color: #00406F; font-weight: normal; margin-top: 1.5em; }

.sidebarblock { border-color: #aaa; }

code { -webkit-border-radius: 4px; border-radius: 4px; }

p.tableblock.header { color: #6d6e71; }

.literalblock pre, .listingblock pre { background: #eee; }

</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="shortcut icon" href="icons/ktx_favicon.ico" type="image/x-icon" />
<style>
body {
  /* Put Khronos ribbon on left side */
  background-attachment: fixed;
  background-image: url(images/logo-spec.png);
  background-position: left top;
  background-repeat: no-repeat/*, no-repeat*/;
  /* Override default Asciidoctor margin settings to center the page. */
  margin: 2em auto 2em auto;
  max-width: 55em;
}

div.legal p {
  font-size: 60%;
}

.optional {
  opacity: 0.5;
}

#header {
  /* Show logos before the document title. The only way is to include
   * them in docinfo.html and the only way with valid HTML5 is to put
   * it in the style sheet which means making it part of the
   * background. Do it in #header not body to get the logos aligned
   * with the margins.
   */
  background-attachment: scroll, scroll;
  background-image: url(images/khronos.svg), url(images/ktx.svg);
  /* To align exactly with the text, change 'left' to .9375em,
   * the Asciidoctor style-sheet specified padding.
   */
  background-position: 0.9375em 30px, right 15px;
  background-repeat: no-repeat;
  /*background-size: auto auto, 120px auto;*/
  background-size: 15.8em auto, 10.8em auto;
  /* Give the logos some space. */
  padding-top: 90px;
}

table.dfdexample td, th {
  font-size: 65%;
  padding-top: 0;
  padding-bottom: 0;
}

table.dfdexample tr {
  : 50%;
}
</style>
</head>
<body class="article">
<div id="header">
<h1>KTX Fragment URI</h1>
<div class="details">
<span id="author" class="author">Mark Callow</span><br>
<span id="revnumber">version 1.0.draft1,</span>
<span id="revdate">2021-04-08</span>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_abstract">Abstract</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This document describes the KTX Fragments 1.0 specification. It
specifies the syntax for constructing KTX fragment URIs and explains
how to handle them when used over the HTTP protocol. The syntax is
based on the specification of particular name-value pairs that can
be used in URI fragment and URI query requests to restrict a media
resource to a certain fragment. It is compatible with the W3C Media
Fragments syntax <a href="#W3CMF">[W3CMF]</a>.</p>
</div>
<h3 id="_status_of_this_document" class="discrete">Status of this document</h3>
<div class="paragraph">
<p>Draft for review.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_introduction">1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This document provides a standard means of addressing fragments of
KTX texture files on the Web using Uniform Resource Identifiers
(URI). In the context of this document KTX fragments are regarded
along several different dimensions such as mip level, stratal (array
layer) and spatial.</p>
</div>
<div class="paragraph">
<p>The aim of this specification is to enhance the Web infrastructure
for supporting the addressing and retrieval of subparts of the
texture payload of KTX version 2 Web resources, as well as the
automated processing of such subparts for reuse.</p>
</div>
<div class="paragraph">
<p>For discussion of standardization issues including terminology, and the
difference between URI fragents and URI queries see &sect; 2 and &sect;
3 of <em>Media Fragments  URI 1.0 (basic)</em> <a href="#W3CMF">[W3CMF]</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ktx_fragments_syntax">2. KTX Fragments Syntax</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The guiding principles for the definition of the KTX fragment syntax
are:</p>
</div>
<div class="olist loweralpha">
<ol class="loweralpha">
<li>
<p>The KF syntax for queries and fragments should be identical.</p>
</li>
<li>
<p>The KF syntax should be unambiguous.</p>
</li>
<li>
<p>The KF syntax should allow any UTF-8 character for dimensions that need it.</p>
</li>
<li>
<p>The KF syntax should adhere to applicable formal standards.</p>
</li>
<li>
<p>The KF syntax should adhere to de-facto usage of queries and fragments.</p>
</li>
<li>
<p>The KF syntax should be as concise as possible.</p>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="_general_structure">2.1. General Structure</h3>
<div class="paragraph">
<p>The general structure is as in <a href="#W3CMF">[W3CMF]</a>, a list of name value pairs
encoded in the query or fragment component of a URI.  Name and value
components are separated by an equal sign (=), while multiple
name-value pairs are separated by an ampersand (&amp;).</p>
</div>
<div id="namevalue" class="listingblock">
<div class="content">
<pre>    name = fragment - "&amp;" - "="
    value = fragment - "&amp;"
    namevalue = name [ "=" value ]
    namevalues = namevalue *( "&amp;" namevalue )</pre>
</div>
</div>
<div class="paragraph">
<p>The names and values can be arbitrary Unicode strings, encoded in
UTF-8 and percent-encoded as per <a href="#RFC3986">[RFC3986]</a>.</p>
</div>
<div class="openblock">
<div class="title">Examples</div>
<div class="content">
<div class="literalblock">
<div class="content">
<pre>http://www.example.com/example.ktx2#l=0,2
http://www.example.com/example.ktx2#a=1,18
http://www.example.com/example.ktx2#a=1,18&amp;xyzwhd=percent:25,25,25,50,50,50
http://www.example.com/example.ktx2#f=4,5
http://www.example.com/example.ktx2#t=10,20</pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>While arbitrary name-value pairs can be encoded in this manner,
this specification defines a fixed set of dimensions. The dimension
keyword name is encoded in the name component, while dimension-specific
syntax is encoded in the value component.</p>
</div>
<div class="paragraph">
<p><a href="#_processing_name_value_components">Section 3.1.1, &#8220;Processing name-value components&#8221;</a> defines in more
detail how to process the name-value pair syntax, arriving at a
list of name-value Unicode string pairs. The syntax definitions in
<a href="#_fragment_dimensions">Section 2.2, &#8220;Fragment Dimensions&#8221;</a> apply to these Unicode strings.</p>
</div>
</div>
<div class="sect2">
<h3 id="_fragment_dimensions">2.2. Fragment Dimensions</h3>
<div class="paragraph">
<p>KTX fragments support addressing the KTX file&#8217;s payload along 5
dimensions</p>
</div>
<div class="qlist qanda">
<ol>
<li>
<p><em>relating to mip level</em></p>
<p>This dimension denotes a range of mip levels in the KTX file.</p>
</li>
<li>
<p><em>stratal</em></p>
<p>This dimension denotes a range of array layers when the KTX file
contains an array texture.</p>
</li>
<li>
<p><em>temporal</em></p>
<p>This dimension denotes a specific time range in a KTX file containing
<code>KTXanimData</code> metadata. Since a frame is an array layer, this is an
alternate way of selecting in the stratal dimension.</p>
</li>
<li>
<p><em>facial</em></p>
<p>This dimension denotes a range of faces when the KTX file contains a
cube map.</p>
</li>
<li>
<p><em>spatial</em></p>
<p>xyzwhd
This dimension denotes a range of pixels in the KTX file such as "a
volume with size (100,100,1) with its origin at (10,10,0).</p>
</li>
</ol>
</div>
<div class="sect3">
<h4 id="_mip_level_dimension">2.2.1. Mip Level Dimension</h4>
<div class="paragraph">
<p>Mip level selection is denoted by the name <em>m</em> and specified as a
range with a first level and a last level. Either one or both
parameters may be omitted with the first level defaulting to level
0, the largest level and the last level defaulting to level<sub>n</sub>, the
texture&#8217;s smallest mip level.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>levelprefix    = %x6C                                        ; "m"</pre>
</div>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>m=2,5    # =&gt; selects mip level[2] to level[5].
m=,5     # =&gt; selects mip level[0] to level[5].
m=2      # =&gt; selects mip level[2] to level[n].
m=0,0    # =&gt; selects layer[0].</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_stratal_dimension">2.2.2. Stratal Dimension</h4>
<div class="paragraph">
<p>Stratal or array layer selection is denoted by the name <em>a</em> and
specified as a range with a first layer and a last layer. Either
one or both parameters may be omitted with the first layer defaulting
to layer 0 and the last layer defaulting to layer<sub>n</sub>, the array
texture&#8217;s last layer.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>layerprefix    = %x61                                        ; "a"</pre>
</div>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>a=3,6    # =&gt; selects layer[3] to layer[6].
a=,6     # =&gt; selects layer[0] to layer[6].
a=3      # =&gt; selects layer[3] to layer[n].
a=3,3    # =&gt; selects layer[3].</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_temporal_dimension">2.2.3. Temporal Dimension</h4>
<div class="paragraph">
<p>Temporal clipping is denoted by the name <em>t</em>. Since a frame is a
single array layer, it is an alternate way of selecting array layers
and only valid for files with KTXanimData metadata. It is specified
as an interval with a begin time and an end time (or an in-point
and an out-point in video editing terms).  Either one or both
parameters may be omitted, with the begin time defaulting to 0
seconds and the end time defaulting to the duration of the source
media. The interval is half-open: the begin time is considered part
of the interval whereas the end time is considered to be the first
time point that is not part of the interval. If a single number
only is given, this corresponds to the begin time except if it is
preceded by a comma in which case it corresponds to end time.</p>
</div>
<div class="paragraph">
<p>The duration of the source media in seconds is calculated from the
KTXanimData by</p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p><em>duration<sub>source</sub></em> = <em>duration<sub>frame</sub></em> / <em>timescale</em> x <em>layerCount</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>where <em>duration<sub>frame</sub></em> and <em>timescale</em> are the values given in the
KTXanimData metadata and <em>layerCount</em> is the value given in the KTX
header.</p>
</div>
<div class="paragraph">
<p>timeprefix    = %x74                                        ; "t"</p>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>t=10,20   # =&gt; results in the time interval [10,20)
t=,20     # =&gt; results in the time interval [0,20)
t=10      # =&gt; results in the time interval [10,end)</pre>
</div>
</div>
<div class="paragraph">
<p>Temporal clipping is specified as Normal Play Time (npt) <a href="#RFC7826">[RFC7826]</a>.</p>
</div>
<div class="paragraph">
<p>Normal Play Time can either be specified as seconds, with an optional
fractional part to indicate miliseconds, or as colon-separated
hours, minutes and seconds (again with an optional fraction). Minutes
and seconds must be specified as exactly two digits, hours and
fractional seconds can be any number of digits. The hours, minutes
and seconds specification for NPT is a convenience only, it does
not signal frame accuracy. This specification builds on the RTSP
specification of NPT in <a href="#RFC7826">[RFC7826]</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bn" data-lang="bn">npt-sec       =  1*DIGIT [ "." *DIGIT ]                     ; definitions
npt-hhmmss    =  npt-hh ":" npt-mm ":" npt-ss [ "." *DIGIT] ; from <a href="#RFC7826">[RFC7826]</a>.
npt-mmss      =  npt-mm ":" npt-ss [ "." *DIGIT]
npt-hh        =  1*DIGIT               ; any positive number
npt-mm        =  2DIGIT                ; 0-59
npt-ss        =  2DIGIT                ; 0-59

npttimedef    = ( npttime  [ "," npttime ] ) / ( "," npttime )

npttime       = npt-sec / npt-mmss / npt-hhmmss</code></pre>
</div>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>t=10,20         # =&gt; results in the time interval [10,20)
t=,121.5        # =&gt; results in the time interval [0,121.5)
t=0:02:00,121.5 # =&gt; results in the time interval [120,121.5)
t=120,0:02:01.5 # =&gt; also results in the time interval [120,121.5)</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_facial_dimension">2.2.4. Facial Dimension</h4>
<div class="paragraph">
<p>Face selection is denoted by the name <em>f</em> and specified as a range with
a first face and a last face. Either one or both parameters may be
omitted with the first face defaulting to to face 0 and the last face to
face 5.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>faceprefix    = %x66                                        ; "f"</pre>
</div>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>f=1,2   # selects face[1] and face[2].
f=,3    # selects face[0] to face[3].
f=3     # selects face[3] to face[5].
f=3,3   # selects face[3].
f=5     # selects face[5].</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_spatial_dimension">2.2.5. Spatial Dimension</h4>
<div class="paragraph">
<p>Spatial clipping selects a volume of pixels from a KTX texture.
Only cubic selections are supported though, of course, width, height
or depth can be 1. The cube can be specified as pixel coordinates
or percentages.</p>
</div>
<div class="paragraph">
<p>Pixels coordinates are interpreted after taking into account the
texture&#8217;s base level dimensions and the mip levels being accessed.</p>
</div>
<div class="paragraph">
<p>Cube selection is denoted by the name <em>xyzwhd</em>. The value is an
optional format, <em>pixel:</em> or <em>percent:</em> (defaulting to <em>pixel</em>) and
6 comma-separated integers. The integers denote x, y, z, width
height and depth, respectively, with x=0, y=0, z=0 being the origin
indicated by the texture&#8217;s <code>KTXorientation</code> metadata. If there is no
metadata, the origin is the top-left-front corner of the cube.</p>
</div>
<div class="paragraph">
<p>If pixel is used, coordinates are in the space of the texture&#8217;s base
level. When selecting from other than the base level, the user agent
must adjust the coordinates according to the level being accessed.
Level<sub>n+1</sub> offsets and sizes are max(1, level<sub>n</sub>/2) offsets and sizes.</p>
</div>
<div class="paragraph">
<p>If percent is used, x and width are interpreted as a percentage of the width
of the level being accessed, y and height as a percentage of the level&#8217;s height
and z and depth as a percentage of the level&#8217;s depth.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>xyzwhdprefix = %x78.79.7F.77.68.64                  ; "xyzwhd"
xyzwhdparam  = [ xywhunit ":" ] 1*DIGIT "," 1*DIGIT "," 1*DIGIT "," 1*DIGIT," 1*DIGIT "," 1*DIGIT"
xyzwhdunit   = %x70.69.78.65.6C                     ; "pixel"
               / %x70.65.72.63.65.6E.74             ; "percent"</pre>
</div>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>xyzwhd=160,120,0,320,240,1        # =&gt; selects a 320x240x1 cube at x=160, y=120
                                  # and z=0
xyzwhd=pixel:160,120,0,320,240,1  # =&gt; selects a 320x240x1 cube at x=160, y=120
                                  # and z=0
xyzwhd=percent:25,25,25,50,50,50  # =&gt; selects a 50%x50%x50% cube at x=25%,
                                  # y=25% and z = 25%</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_media_fragments_processing">3. Media Fragments Processing</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section defines the different exchange scenarios for the situations
explained in  &sect; 3 <em>URI fragment and URI query over the HTTP
protocol</em> in <a href="#W3CMF">[W3CMF]</a>.</p>
</div>
<div class="paragraph">
<p>The formal grammar defined in <a href="#_ktx_fragments_syntax">Section 2, &#8220;KTX Fragments Syntax&#8221;</a> describes
what producers of a KTX fragment URI should output. It is not taking
into account possible percent-encodings that are valid according to
<a href="#RFC3986">[RFC3986]</a> and the grammar is not a specification of how a media
fragment should be parsed. Therefore, <a href="#_processing_media_fragment_uri">Section 3.1, &#8220;Processing Media Fragment URI&#8221;</a>
defines how to parse media fragment URIs.</p>
</div>
<div class="sect2">
<h3 id="_processing_media_fragment_uri">3.1. Processing Media Fragment URI</h3>
<div class="paragraph">
<p>This section defines how to parse media fragment URIs defined in
<a href="#_ktx_fragments_syntax">Section 2, &#8220;KTX Fragments Syntax&#8221;</a>, along with notes on some of the caveats
to be aware of. Implementors are free to use any equivalent
technique(s).</p>
</div>
<div class="sect3">
<h4 id="_processing_name_value_components">3.1.1. Processing name-value components</h4>
<div class="paragraph">
<p>This section defines how to convert an octet string (from the query
or fragment component of a URI) into a list of name-value Unicode
string pairs.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Parse the octet string according to the <a href="#namevalue">[namevalue]</a> syntax,
yielding a list of name-value pairs, where name and value are both
octet string. In accordance with <a href="#RFC3986">[RFC3986]</a>, the name and value
components must be parsed and separated before percent-encoded
octets are decoded.</p>
</li>
<li>
<p>For each name-value pair:</p>
<div class="olist loweralpha">
<ol class="loweralpha">
<li>
<p>Decode percent-encoded octets in name and value as defined
by <a href="#RFC3986">[RFC3986]</a>. If either name or value are not valid
percent-encoded strings, then remove the name-value pair
from the list.</p>
</li>
<li>
<p>Convert name and value to Unicode strings by interpreting
them as UTF-8. If either name or value are not valid UTF-8
strings, then remove the name-value pair from the list.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Note that the output is well defined for any input.</p>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Input</th>
<th class="tableblock halign-left valign-top">Output</th>
<th class="tableblock halign-left valign-top">Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">"t=1"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[("t", "1")]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">simple case</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">"t=1&amp;t=2"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[("t", "1"), ("t", "2")]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">repeated name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">"a=b=c"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[("a", "b=c")]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"=" in value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">"a&amp;b=c"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[("a", ""), ("b", "c")]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">missing value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">"%74=%6ept%3A%310"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[("t", "npt:10")]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">unnecssary percent-encoding</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">"id=%xy&amp;t=1"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[("t", "1")]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">invalid percent-encoding</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">"id=%E4r&amp;t=1"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[("t", "1")]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">invalid UTF-8</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>While the processing defined in this section is designed to be
largely compatible with the parsing of the URI query component in
many HTTP server environments, there are incompatible differences
that implementors should be aware of:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"&amp;" is the only primary separator for name-value pairs, but some server-side languages also treat ";" as a separator.</p>
</li>
<li>
<p>name-value pairs with invalid percent-encoding should be ignored, but some server-side languages silently mask such errors.</p>
</li>
<li>
<p>The "+" character should not be treated specially, but some server-side languages replace it with a space (" ") character.</p>
</li>
<li>
<p>Multiple occurrences of the same name must be preserved, but some server-side languages only preserve the last occurrence.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_processing_name_value_lists">3.2. Processing name-value lists</h3>
<div class="paragraph">
<p>This section defines how to convert a list of name-value Unicode
string pairs into the KTX fragment dimensions.</p>
</div>
<div class="paragraph">
<p>Given the dimensions defined in section <a href="#_fragment_dimensions">Section 2.2, &#8220;Fragment Dimensions&#8221;</a>,
each has a pair of production rules that corresponds to the name
and value component respectively:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Keyword</th>
<th class="tableblock halign-left valign-top">Dimension</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">m</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#_mip_level_dimension">Section 2.2.1, &#8220;Mip Level Dimension&#8221;</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#_stratal_dimension">Section 2.2.2, &#8220;Stratal Dimension&#8221;</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">f</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#_facial_dimension">Section 2.2.4, &#8220;Facial Dimension&#8221;</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">xyzwhd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#_spatial_dimension">Section 2.2.5, &#8220;Spatial Dimension&#8221;</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">t</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#_temporal_dimension">Section 2.2.3, &#8220;Temporal Dimension&#8221;</a></p></td>
</tr>
</tbody>
</table>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Initially, all dimensions are undefined.</p>
</li>
<li>
<p>For each name-value pair:</p>
<div class="olist loweralpha">
<ol class="loweralpha">
<li>
<p>If name matches a keyword in the above table, interpret value
as per the corresponding section.</p>
</li>
<li>
<p>Otherwise, the name-value pair does not represent a KTX
fragment dimension. Validators should emit a warning. User
agents must ignore the name-value pair.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Because the name-value pairs are processed in order, the last
valid occurence of any dimension is the one that is used.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_media_fragments_semantics">4. Media Fragments Semantics</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this section, we discuss how media fragment URIs should be
interpreted by user agents. Valid and error cases are presented.
In case of errors, we distinguish between errors that can be detected
solely based on the media fragment URI and errors that can only be
detected when the user agent has information of the KTX resource
(such as the number of mip levels).</p>
</div>
<div class="sect2">
<h3 id="_valid_ktx_fragment_uris">4.1. Valid KTX Fragment URIs</h3>
<div class="paragraph">
<p>For each dimension, a number of valid KTX fragments and their
semantics are presented.</p>
</div>
<div class="sect3">
<h4 id="_valid_mip_level_dimension">4.1.1. Valid mip level dimension</h4>
<div class="paragraph">
<p>To describe the different cases for valid mip levels, we make the
following definitions:</p>
</div>
<div class="paragraph">
<p>b: the base (largest) mip level which is always 0;<br>
x: the maximum (smallest) mip level within the KTX file;<br>
p: a positive integer, p &gt;= 0;<br>
q: a positive integer, q &gt;= 0.</p>
</div>
<div class="paragraph">
<p>For m=p,q with p &lt;= q the following level selections are valid:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>m=p with p &lt; x: the user agent selects levels p to x.</p>
</li>
<li>
<p>m=,q with q &lt;= x: the user agent selects levels b to q.</p>
</li>
<li>
<p>m=,q with x &lt; q: the user agent selects levels b to x.</p>
</li>
<li>
<p>m=p,q with p = b and q = x: the user agent selects all levels.</p>
</li>
<li>
<p>m=p,q with p &lt; q, p &lt; x and q &lt;= x: the user agent selects levels p to q.</p>
</li>
<li>
<p>m=p,q with p &lt; q, p &lt; x and x &lt; q: the user agent selects levels p to x.</p>
</li>
<li>
<p>%6D=5,12: resolve percent encoding to m=5,12.</p>
</li>
<li>
<p>m=%31%30: resolve percent encoding to m=10.</p>
</li>
<li>
<p>m=5%2C12: resolve percent encoding to t=5,12.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When clipping levels from a KTX file with multiple layers, faces
or depth-slices the selection include all layers, faces and
depth-slices of the selected levels or all those selected by clipping
in additional dimensions.</p>
</div>
</div>
<div class="sect3">
<h4 id="_valid_stratal_dimension">4.1.2. Valid stratal dimension</h4>
<div class="paragraph">
<p>To describe the different cases for valid array layers, we make the
following definitions:</p>
</div>
<div class="paragraph">
<p>f: the first array layer which is always 0;<br>
l: the last array layer<br>
i: a positive integer, i &gt;= 0;<br>
j: a positive integer, j &gt;= 0.</p>
</div>
<div class="paragraph">
<p>For a=i,j with i &lt;= j the following layer selections are valid:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a=i with i &lt; l: the user agent selects layers i to l.</p>
</li>
<li>
<p>a=,j with j &lt;= l: the user agent selects layers f to j.</p>
</li>
<li>
<p>a=,j with l &lt; j: the user agent selects layers f to l.</p>
</li>
<li>
<p>a=i,j with i = f and j = l, the user agent selects all layers.</p>
</li>
<li>
<p>a=i,j with i &lt; j, i &lt; l and j &#8656; l: the user agent selects layers i to j.</p>
</li>
<li>
<p>%61=3,14 resolve percent encoding to a=3,14.</p>
</li>
<li>
<p>a=%31%30 resolve percent encoding to a=10.</p>
</li>
<li>
<p>a=3%2C14 resolve percent encoding to t=3,14.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When clipping layers from a KTX file with multiple levels or faces
the selection includes all the levels and faces of the selected
layers or all those selected by clipping in additional dimensions.</p>
</div>
</div>
<div class="sect3">
<h4 id="_valid_temporal_dimension">4.1.3. Valid temporal dimension</h4>
<div class="paragraph">
<p>To describe the different cases for temporal media fragments, we
make the following definitions:</p>
</div>
<div class="paragraph">
<p>s: the start point of the animation sequence, which is always zero (in NPT);<br>
e: the end point of the animation sequence (i.e. duration) and e &gt; 0;<br>
a: a positive integer, a &gt;= 0;<br>
b: a positive integer, b &gt;= 0.</p>
</div>
<div class="paragraph">
<p>Further, as stated in <a href="#_temporal_dimension">Section 2.2.3, &#8220;Temporal Dimension&#8221;</a>, temporal intervals
are half-open.  Thus, if we state below that "the media is played
from x to y", this means that the frame corresponding to y will not
be played.</p>
</div>
<div class="paragraph">
<p>For t=a,b with a &#8656; b, the following temporal fragments are valid:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>t=a with a &lt; e: sequence is played from a to e.</p>
</li>
<li>
<p>t=,b with b &lt;= e: sequence is played from s to b.</p>
</li>
<li>
<p>t=,b with e &lt; b: sequence is played from s to e.</p>
</li>
<li>
<p>t=a,b with a = 0, b = e: whole sequence resource is played.</p>
</li>
<li>
<p>t=a,b with a &lt; b, a &lt; e and b &lt;= e: sequence is played from a to b (the normal case).</p>
</li>
<li>
<p>t=a,b with a &lt; b, a &lt; e and e &lt; b: sequence is played from a to e.</p>
</li>
<li>
<p>%74=10,20 resolve percent encoding to t=10,20.</p>
</li>
<li>
<p>t=%31%30 resolve percent encoding to t=10.</p>
</li>
<li>
<p>t=10%2C20 resolve percent encoding to t=10,20.</p>
</li>
<li>
<p>t=%6ept:10 resolve percent encoding to t=npt:10.</p>
</li>
<li>
<p>t=npt%3a10 resolve percent encoding to t=npt:10.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_valid_facial_dimension">4.1.4. Valid facial dimension</h4>
<div class="paragraph">
<p>To describe the different cases for valid faces, we make the
following definitions:</p>
</div>
<div class="paragraph">
<p>i: a positive integer, i &gt;= 0 and i &lt; 6.<br>
j: a positive integer, j &gt;= 0 and j &lt; 6.</p>
</div>
<div class="paragraph">
<p>For f=i,j with i &lt; j the following face selections are
valid.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>f=i, the user agent selects face[i] to face[5].</p>
</li>
<li>
<p>f=i,j the user agent selects face[i] to face[j].</p>
</li>
<li>
<p>f=,j the user agent selects face[0] to face[j].</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note that when a subset of faces is selected, the texture is lowered from a
cube map to an array or a 2D texture.</p>
</div>
</div>
<div class="sect3">
<h4 id="_valid_spatial_dimension">4.1.5. Valid spatial dimension</h4>
<div class="paragraph">
<p>To describe the different cases for spatial media fragments, we
make the following definitions:</p>
</div>
<div class="paragraph">
<p>a: the x coordinate of the spatial region (a &gt;= 0).<br>
b: the y coordinate of the spatial region (b &gt;= 0).<br>
c: the z coordinate of the spatial region (c &gt;= 0).<br>
e: the width the spatial region (e &gt; 0).<br>
f: the height of the spatial region (f &gt; 0).<br>
g: the depth of the spatial region (g &gt; 0).<br>
w: the width of the texture base level (w &gt; 0).<br>
h: the height of the texture base level (h &gt; 0).<br>
d: the depth of the texture base level (h &gt; 0).</p>
</div>
<div class="paragraph">
<p>The coordinate system has an upper-left origin.</p>
</div>
<div class="paragraph">
<p>The following spatial fragments are valid:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>xyzwhd=a,b,c,e,f,g with a+e &lt;= w, b+f &lt;= h and c+g &lt;= d: the
user agent displays a spatial fragment with coordinates (in pixel
xyzefg format) a,b,c,e,f,g (the normal pixel case).</p>
</li>
<li>
<p>xyzwhd=a,b,c,e,f,g with a+e &gt; w, a &lt; w, b+f &lt; h and c+g &lt; d: the
user agent displays a spatial fragment with coordinates (in pixel
xyzwhd format) a,b,c,w-a,f,g.</p>
</li>
<li>
<p>xyzwhd=a,b,c,e,f,g with a+e &lt; w, b+f &gt; h, b &lt; h and c+g &lt; d: the
user agent displays a spatial fragment with coordinates (in pixel
xyzwwhd format) a,b,c,e,h-b,g.</p>
</li>
<li>
<p>xyzwhd=a,b,c,e,f,g with a+e &lt; w, b+f &lt; h, c+g &gt; d and c &lt; d: the
user agent displays a spatial fragment with coordinates (in pixel
xyzwwhd format) a,b,c,e,f,d-c.</p>
</li>
<li>
<p>xyzwhd=a,b,c,e,f,g with a+e &gt; w, a &lt; w, b+f &gt; h, b &lt; h, c+g &lt; d:
the user agent displays a spatial fragment with coordinates (in
pixel xyzwhd format) a,b,c,w-a,h-f,g.</p>
</li>
<li>
<p>xyzwhd=a,b,c,e,f,g with a+e &gt; w, a &lt; w, b+f &gt; h, b &lt; h, c+g &gt; d
and c &lt; d: the user agent displays a spatial fragment with
coordinates (in pixel xyzwhd format) a,b,c,w-a,h-f,d-g.</p>
</li>
<li>
<p>xyzwhd=pixel:a,b,c,e,f,g with a+e &lt;= w, b+f &lt;= h and c+g &lt;= d:
the user agent displays a spatial fragment with coordinates (in
pixel xyzwhd format) a,b,c,e,f,g (the normal pixel case).</p>
</li>
<li>
<p>xyzwhd=percent:a,b,c,e,f,g with a+e &lt;= 100, b+f &lt;= 100 and c+g
&lt;= 100: the user agent displays a spatial fragment with coordinates
(in pixel xyzwhd format) floor(a/w*100), floor(b/h*100),
floor(c/d*100), ceil(e/w*100), ceil(f/h*100) and ceil(g/d*100) (the
normal percent case).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The result of doing spatial clipping on a KTX file that has multiple
layers, faces or depth-slices is that the spatial clipping is done
across all layers and faces.</p>
</div>
<div class="paragraph">
<p>When doing spatial clipping on multiple mip levels the user agent
must scale the coordinates to each mip level being clipped.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_errors_detectable_based_on_the_uri_syntax">4.2. Errors detectable based on the URI syntax</h3>
<div class="paragraph">
<p>Both syntactical and semantical errors are treated similarly. More
specifically, the user agent SHOULD ignore name-value pairs causing
errors detectable based on the URI syntax. We provide below more
details for each dimension. We look at errors in the different
dimensions and their values in the subsequent sub-sections. We start
with errors on the more general levels.</p>
</div>
<div class="sect3">
<h4 id="_errors_on_the_general_uri_level">4.2.1. Errors on the general URI level</h4>
<div class="paragraph">
<p>The following list provides the different kind of errors that can
occur on the general URI level and how they should be treated:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Unknown dimension: only dimensions described in this specification
(i.e. m, a, t, f and xyzwhd ) are considered as known dimensions.
All other dimensions are considered as unknown. Unknown dimensions
SHOULD be ignored by the user agent.</p>
</li>
<li>
<p>Multiple occurrences of the same dimension: only the last valid
occurrence of a dimension (e.g. t=10 in <code>#t=2&amp;t=10</code>) is interpreted
and all previous occurrences (valid or invalid) SHOULD be ignored
by the user agent.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_errors_on_the_mip_level_dimension">4.2.2. Errors on the mip level dimension</h4>
<div class="paragraph">
<p>The value cannot be parsed for the mip level dimension or the parsed
value is invalid according to the specification. Invalid mip level
fragments SHOULD be ignored by the user agent.</p>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>m=b
m=1,
m=qwer
m=asdf,9
m='4'
m=3:20
m=25,50,75</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_errors_on_the_array_layer_dimension">4.2.3. Errors on the array layer dimension</h4>
<div class="paragraph">
<p>The value cannot be parsed for the stratal dimension or the parsed
value is invalid according to the specification. Invalid stratal
fragments SHOULD be ignored by the user agent.</p>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>a=b
a=1,
a=qwer
a=asdf,9
a='4'
a=3:20
a=25,50,75</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_errors_on_the_temporal_dimension">4.2.4. Errors on the temporal dimension</h4>
<div class="paragraph">
<p>The value cannot be parsed for the temporal dimension or the parsed
value is invalid according to the specification. Invalid temporal
fragments SHOULD be ignored by the user agent.</p>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>t=a,b with a &gt;= b (the case of an empty temporal fragment (a=b) is also considered as an error)
t=a,
t=asdf
t=5,ekj
t=agk,9
t='0'
t=10-20
t=10:20
t=10,20,40
t%3D10 where %3D is equivalent to =; percent encoding does not resolve</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_errors_on_the_face_dimension">4.2.5. Errors on the face dimension</h4>
<div class="paragraph">
<p>The value cannot be parsed for the facial dimension or the parsed
value is invalid according to the specification. Invalid facial
fragments SHOULD be ignored by the user agent.</p>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>f=6
f=1,
f=a,b
f=posx
f="negy"</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_errors_on_the_spatial_dimension">4.2.6. Errors on the spatial dimension</h4>
<div class="paragraph">
<p>The value cannot be parsed for the spatial dimension or the parsed
value is invalid according to the specification. Invalid spatial
fragments SHOULD be ignored by the user agent.</p>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>xyzwhd=4,5,abc,8,9,a
xyzwhd=4,5
xyzwhd=foo:4,5,6,8,9,10
xyzwhd=percent:400,5,6,7,8,9
xyzwhd=4,5,6,0,3,2</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_errors_detectable_based_on_information_of_the_source_ktx_file">4.3. Errors detectable based on information of the source KTX file.</h3>
<div class="paragraph">
<p>Errors that can only be detected when the user agent has information
of the source KTX file are treated differently. Examples of such
information are the number of mip levels, the number of array layers,
the duration of an animation sequence and the size of an image (i.e. all
information that is not detectable solely based on the URI).
We provide below more details for each of the dimensions.</p>
</div>
<div class="sect3">
<h4 id="_errors_on_the_general_level">4.3.1. Errors on the general level</h4>
<div class="paragraph">
<p>The following errors can occur on the general level:</p>
</div>
<div class="paragraph">
<p>Not a KTX Version 2 file. If the user agent knows the media type,
it is able to detect that the source is not a KTX file so it SHOULD
ignore KTX specific dimensions. The temporal dimension is the only
non KTX specific dimension.</p>
</div>
<div class="paragraph">
<p>Non-existent dimension: a dimension that does not exist in the
source KTX (e.g. level clipping on a file with only a single mip level,
layer clipping on a file with only 1 array layer or temporal clipping
on a file without KTXanimData) is considered as a non-existent
dimension. The user agent SHOULD ignore these.</p>
</div>
</div>
<div class="sect3">
<h4 id="_errors_on_the_mip_level_dimension_2">4.3.2. Errors on the mip level dimension</h4>
<div class="paragraph">
<p>To describe the different cases for mip level fragments, we
use the definitions from <a href="#_valid_mip_level_dimension">Section 4.1.1, &#8220;Valid mip level dimension&#8221;</a>. The invalidity of the
following mip level fragments can only be detected by the user agent if
it knows the number of mip levels in the KTX source file.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>m=p,q with p &gt; 0, p &lt; q, p &gt; x: a non-existent mip level fragment,
the user agent selects mip level x.</p>
</li>
<li>
<p>m=p with p &gt; x: a non-existent mip level, the user agent selects mip
level x.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_errors_on_the_stratal_dimension">4.3.3. Errors on the stratal dimension</h4>
<div class="paragraph">
<p>To describe the different cases for stratal fragments, we
use the definitions from <a href="#_valid_stratal_dimension">Section 4.1.2, &#8220;Valid stratal dimension&#8221;</a>. The invalidity of the
following stratal fragments can only be detected by the user agent if
it knows the number of array layers in the KTX source file.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a=i,j with i &gt; 0, i &lt; j, i &gt; l: a non-existent mip level fragment,
the user agent selects array level l.</p>
</li>
<li>
<p>a=i with i &gt; l: a non-existent array layer, the user agent selects mip
level x.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_errors_on_the_temporal_dimension_2">4.3.4. Errors on the temporal dimension</h4>
<div class="paragraph">
<p>To describe the different cases for temporal media fragments, we
use the definitions from <a href="#_valid_temporal_dimension">Section 4.1.3, &#8220;Valid temporal dimension&#8221;</a>. The invalidity
of the following temporal fragments can only be detected by the
user agent if it knows the duration (for non-existent temporal
fragments) and the frame rate of the source sequence.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>t=a,b with a &gt; 0, a &lt; b, a &gt;= e and b &gt; e: a non-existent temporal
fragment, the user agent seeks to the end of the sequence e.</p>
</li>
<li>
<p>t=a with a &gt;= e: a non-existent temporal fragment, the user agent
seeks to the end of the media e.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_errors_on_the_facial_dimension">4.3.5. Errors on the facial dimension</h4>
<div class="paragraph">
<p>To describe this case we use the definitions from <a href="#_valid_facial_dimension">Section 4.1.4, &#8220;Valid facial dimension&#8221;</a>.
The invalidity of the following facial fragments can only be detected
if the user agent knows the KTX file does not contain a cubemap.
In that case the user agent SHOULD ignore these facial fragments.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>f=i,j with i &gt;= 0, i &lt; j, i &lt; 6</p>
</li>
<li>
<p>f=i with i &gt;= 0, i &lt; 6</p>
</li>
<li>
<p>f=,j with j &gt;= 0, j &lt; 6</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_errors_on_the_spatial_dimension_2">4.3.6. Errors on the spatial dimension</h4>
<div class="paragraph">
<p>To describe the different cases for spatial media fragments, we use
the definitions from <a href="#_valid_spatial_dimension">Section 4.1.5, &#8220;Valid spatial dimension&#8221;</a>. The invalidity
of the following spatial fragments can only be detected by the user
agent if it knows the size and depth of the source KTX file.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>xyzwhd=a,b,c,e,f,g with a &gt;= w or b &gt;= h or c &gt;= d: the origin
(a,b,c) of the cube lies outside the source image and is therefore
invalid. The user agent SHOULD ignore this spatial fragment.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_references">References</h2>
<div class="sectionbody">
<div class="ulist bibliography">
<ul class="bibliography">
<li>
<p><a id="W3CMF"></a>[W3CMF] <a href="https://www.w3.org/TR/media-frags/">Media Fragments URI 1.0 (basic)</a>.
Raphal Troncy et al. World Wide Web Consortium, September 2012.</p>
</li>
</ul>
</div>
<div class="ulist bibliography">
<ul class="bibliography">
<li>
<p><a id="RFC3986"></a>[RFC3986] <a href="https://tools.ietf.org/html/rfc3986">Uniform Resource
Identifier (URI): Generic Syntax</a>. T.
Berners-Lee, R. Fielding and L. Masinter. IETF, January 2005.</p>
</li>
<li>
<p><a id="RFC7826"></a>[RFC7826] <a href="https://tools.ietf.org/html/rfc7826#page-29">Real Time Streaming
Protocol Version 2.0</a>. H.
Schulzrinne, A. Rao, R. Lanphier, M. Westerlund, M Stiemerling. IETF,
December 2016.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 1.0.draft1<br>
Last updated 2021-04-08 12:14:58 +0900
</div>
</div>
</body>
</html>